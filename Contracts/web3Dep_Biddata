//Sample compiled contract, to be executed on geth node to deploy it onto the blockchain.
//Compiled contract from https://remix.ethereum.org 
//To be executed on any one of the nodes of external farm

var biddataContract = eth.contract([{"constant":true,"inputs":[{"name":"data_id","type":"bytes32"}],"name":"getHighestBid","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"data_id","type":"bytes32"}],"name":"closeBid","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"},{"name":"index","type":"uint256"}],"name":"getDataDetails","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"},{"name":"","type":"bytes32"},{"name":"","type":"bytes32"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"data_id","type":"bytes32"}],"name":"getDataDetailsById","outputs":[{"name":"","type":"bytes32"},{"name":"","type":"address"},{"name":"","type":"bytes32"},{"name":"","type":"bytes32"},{"name":"","type":"uint256"},{"name":"","type":"uint256"},{"name":"","type":"address"},{"name":"","type":"address"},{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"data_id","type":"bytes32"}],"name":"bid","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"constant":true,"inputs":[{"name":"addr","type":"address"}],"name":"countData","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"data_id","type":"bytes32"}],"name":"whoOwns","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"name":"data_id","type":"bytes32"},{"name":"sensor_addr","type":"address"},{"name":"dataPoints","type":"uint256"},{"name":"dataHash","type":"bytes32"},{"name":"timestamp","type":"uint256"},{"name":"location","type":"bytes32"}],"name":"addNewData","outputs":[],"payable":true,"stateMutability":"payable","type":"function"}]);

var biddata = biddataContract.new(
   {
     from: eth.accounts[0], 
     data: '0x608060405234801561001057600080fd5b5061144b806100206000396000f30060806040526004361061008e576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff168063201bbdbe14610093578063305f6fb3146100d857806360a5553e146101095780638c06e3d914610242578063957bb1e01461035f578063a9bbe62e14610383578063d347791c146103da578063d4af8b811461044b575b600080fd5b34801561009f57600080fd5b506100c260048036038101908080356000191690602001909291905050506104bf565b6040518082815260200191505060405180910390f35b3480156100e457600080fd5b5061010760048036038101908080356000191690602001909291905050506104e6565b005b34801561011557600080fd5b50610154600480360381019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610920565b604051808a600019166000191681526020018973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001886000191660001916815260200187600019166000191681526020018681526020018581526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182151515158152602001995050505050505050505060405180910390f35b34801561024e57600080fd5b506102716004803603810190808035600019169060200190929190505050610b7f565b604051808a600019166000191681526020018973ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001886000191660001916815260200187600019166000191681526020018681526020018581526020018473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200182151515158152602001995050505050505050505060405180910390f35b6103816004803603810190808035600019169060200190929190505050610d88565b005b34801561038f57600080fd5b506103c4600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f51565b6040518082815260200191505060405180910390f35b3480156103e657600080fd5b506104096004803603810190808035600019169060200190929190505050610f9d565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b6104bd6004803603810190808035600019169060200190929190803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803590602001909291908035600019169060200190929190803590602001909291908035600019169060200190929190505050610fe4565b005b60008060008360001916600019168152602001908152602001600020600801549050919050565b600080826000191660001916815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561091d573373ffffffffffffffffffffffffffffffffffffffff166108fc6000808460001916600019168152602001908152602001600020600801549081150290604051600060405180830381858888f193505050501580156105ba573d6000803e3d6000fd5b5060016000806000846000191660001916815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001806000806000866000191660001916815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080549050038154811015156106c557fe5b906000526020600020015460016000806000856000191660001916815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008084600019166000191681526020019081526020016000206009015481548110151561077657fe5b90600052602060002001816000191690555060016000806000846000191660001916815260200190815260200160002060060160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054809190600190036108179190611326565b506001806000806000856000191660001916815260200190815260200160002060070160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002082908060018154018082558091505090600182039060005260206000200160009091929091909150906000191690550360008083600019166000191681526020019081526020016000206009018190555060008060008360001916600019168152602001908152602001600020600a0160006101000a81548160ff0219169083151502179055505b50565b6000806000806000806000806000610936611352565b600080600160008f73ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208d81548110151561098557fe5b90600052602060002001546000191660001916815260200190815260200160002061016060405190810160405290816000820154600019166000191681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201548152602001600382015460001916600019168152602001600482015481526020016005820154600019166000191681526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016007820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016008820154815260200160098201548152602001600a820160009054906101000a900460ff16151515158152505090508060000151816020015182606001518360a0015184610100015185608001518660c001518760e00151886101400151995099509950995099509950995099509950509295985092959850929598565b6000806000806000806000806000610b95611352565b6000808c6000191660001916815260200190815260200160002061016060405190810160405290816000820154600019166000191681526020016001820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160028201548152602001600382015460001916600019168152602001600482015481526020016005820154600019166000191681526020016006820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016007820160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016008820154815260200160098201548152602001600a820160009054906101000a900460ff16151515158152505090508060000151816020015182606001518360a0015184610100015185608001518660c001518760e00151886101400151995099509950995099509950995099509950509193959799909294969850565b6000806000806000808660001916600019168152602001908152602001600020600a0160009054906101000a900460ff1615610f4a57600080866000191660001916815260200190815260200160002060070160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169350600080866000191660001916815260200190815260200160002060080154925033915034905080831015610f0157600083141515610e7e578373ffffffffffffffffffffffffffffffffffffffff166108fc849081150290604051600060405180830381858888f19350505050158015610e7c573d6000803e3d6000fd5b505b81600080876000191660001916815260200190815260200160002060070160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555080600080876000191660001916815260200190815260200160002060080181905550610f49565b8173ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f19350505050158015610f47573d6000803e3d6000fd5b505b5b5050505050565b6000600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020805490509050919050565b6000806000836000191660001916815260200190815260200160002060070160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600073ffffffffffffffffffffffffffffffffffffffff16600080886000191660001916815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614801561106557506000600102866000191614155b1561131e57856000808860001916600019168152602001908152602001600020600001816000191690555084600080886000191660001916815260200190815260200160002060010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555083600080886000191660001916815260200190815260200160002060020181905550826000808860001916600019168152602001908152602001600020600301816000191690555081600080886000191660001916815260200190815260200160002060040181905550806000808860001916600019168152602001908152602001600020600501816000191690555033600080886000191660001916815260200190815260200160002060060160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555033600080886000191660001916815260200190815260200160002060070160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503460008088600019166000191681526020019081526020016000206008018190555060016000808860001916600019168152602001908152602001600020600a0160006101000a81548160ff02191690831515021790555060018060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208790806001815401808255809150509060018203906000526020600020016000909192909190915090600019169055036000808860001916600019168152602001908152602001600020600901819055505b505050505050565b81548183558181111561134d5781836000526020600020918201910161134c91906113fa565b5b505050565b6101606040519081016040528060008019168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600080191681526020016000815260200160008019168152602001600073ffffffffffffffffffffffffffffffffffffffff168152602001600073ffffffffffffffffffffffffffffffffffffffff16815260200160008152602001600081526020016000151581525090565b61141c91905b80821115611418576000816000905550600101611400565b5090565b905600a165627a7a723058205e8a1d887eae4f63b95229b4e0a157d85dff6ddbbe5308ed8daa403be18a3e460029', 
     gas: '4700000'
   }, function (e, contract){
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
         console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
 })

//It will output the following after successful mining of the above published contract
// - Contract mined! address: 0xbd6b52599cd6c174e1b907fcd0f364803bcb0760 
// - transactionHash: 0xa512cb353de5b87d3a815c6f017056aade0bf854401cdfa8b6090463d7f3decc
